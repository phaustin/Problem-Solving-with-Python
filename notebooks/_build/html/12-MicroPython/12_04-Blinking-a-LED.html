

<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta charset="utf-8" />
    <title>13.1.4. Blinking a LED &#8212; PSWP</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.11.2/css/all.min.css" integrity="sha384-KA6wR/X5RY4zFAHpv/CnoG2UW1uogYfdnP67Uv7eULvTveboZJg0qUpmJZb5VqzN" crossorigin="anonymous">
    <link href="../_static/css/index.css" rel="stylesheet">
    <link rel="stylesheet" href="../_static/sphinx-book-theme.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" type="text/css" href="../_static/togglebutton.css" />
    <link rel="stylesheet" type="text/css" href="../_static/copybutton.css" />
    <link rel="stylesheet" type="text/css" href="../_static/mystnb.css" />
    <link rel="stylesheet" type="text/css" href="../_static/sphinx-thebe.css" />
    <link rel="stylesheet" type="text/css" href="../_static/sphinx-dropdown.css" />
    <script id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
    <script src="../_static/sphinx-book-theme.js"></script>
    <script src="../_static/jquery.js"></script>
    <script src="../_static/underscore.js"></script>
    <script src="../_static/doctools.js"></script>
    <script src="../_static/language_data.js"></script>
    <script src="../_static/togglebutton.js"></script>
    <script src="../_static/clipboard.min.js"></script>
    <script src="../_static/copybutton.js"></script>
    <script src="../_static/sphinx-book-theme.js"></script>
    <script >var togglebuttonSelector = '.toggle, .admonition.dropdown, .tag_hide_input div.cell_input, .tag_hide-input div.cell_input, .tag_hide_output div.cell_output, .tag_hide-output div.cell_output, .tag_hide_cell.cell, .tag_hide-cell.cell';</script>
    <script async="async" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <script type="text/x-mathjax-config">MathJax.Hub.Config({"tex2jax": {"inlineMath": [["\\(", "\\)"]], "displayMath": [["\\[", "\\]"]], "processRefs": false, "processEnvironments": false}})</script>
    <script async="async" src="https://unpkg.com/thebelab@latest/lib/index.js"></script>
    <script >
        const thebe_selector = ".thebe"
        const thebe_selector_input = "pre"
        const thebe_selector_output = ".output"
    </script>
    <script async="async" src="../_static/sphinx-thebe.js"></script>
    <link rel="canonical" href="http://127.0.0.1:8500/12-MicroPython/12_04-Blinking-a-LED.html" />
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="13.1.5. Reading a Sensor" href="12_05-Reading-a-Sensor.html" />
    <link rel="prev" title="13.1.3. The MicroPython REPL" href="12_03-MicroPython-REPL.html" />

    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="docsearch:language" content="en">


<!-- Opengraph tags -->
<meta property="og:url"         content="http://127.0.0.1:8500/12-MicroPython/12_04-Blinking-a-LED.html" />
<meta property="og:type"        content="article" />
<meta property="og:title"       content="Blinking a LED" />
<meta property="og:description" content="Blinking a LED  In this section, you will learn how to blink the built-in LED on ESP8266-based microcontroller using the MicroPython REPL.  Before the LED on th" />
<meta property="og:image"       content="http://127.0.0.1:8500/_static/logo.png" />

<meta name="twitter:card" content="summary" />


  </head>
  <body data-spy="scroll" data-target="#bd-toc-nav" data-offset="80">
    

    <div class="container-xl">
      <div class="row">
          
<div class="col-12 col-md-3 bd-sidebar site-navigation show" id="site-navigation">
    
        <div class="navbar-brand-box">
<a class="navbar-brand text-wrap" href="../index.html">
  
  <img src="../_static/logo.png" class="logo" alt="logo">
  
  
  <h1 class="site-logo" id="site-title">PSWP</h1>
  
</a>
</div>

<form class="bd-search d-flex align-items-center" action="../search.html" method="get">
  <i class="icon fas fa-search"></i>
  <input type="search" class="form-control" name="q" id="search-input" placeholder="Search this book..." aria-label="Search this book..." autocomplete="off" >
</form>

<nav class="bd-links" id="bd-docs-nav" aria-label="Main navigation">
  <ul class="nav sidenav_l1">
 <li class="toctree-l1">
  <a class="reference internal" href="../index.html">
   Problem Solving with Python
  </a>
 </li>
</ul>
<ul class="current nav sidenav_l1">
 <li class="toctree-l1">
  <a class="reference internal" href="../00-Preface/00_00-Motivation.html">
   1. Preface
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../01-Orientation/01_00-Welcome.html">
   2. Orientation
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../02-Jupyter-Notebooks/02_00-Introduction.html">
   3. Jupyter Notebooks
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../03-The-Python-REPL/03_00-Introduction.html">
   4. The Python REPL
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../04-Data-Types-and-Variables/04_00-Introduction.html">
   5. Data Types and Variables
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../05-NumPy-and-Arrays/05_00-Introduction.html">
   6. NumPy and Arrays
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../06-Plotting-with-Matplotlib/06_00-Introduction.html">
   7. Plotting with Matplotlib
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../07-Functions-and-Modules/07_00-Introduction.html">
   8. Functions and Modules
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../08-If-Else-Try-Except/08_00-Introduction.html">
   9. If Else Try Except
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../09-Loops/09_00-Introduction.html">
   10. Loops
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../10-Symbolic-Math/10_00-Introduction.html">
   11. Symbolic Math
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../11-Python-and-External-Hardware/11_00-Introduction.html">
   12. Python and External Hardware
  </a>
 </li>
 <li class="toctree-l1 current active">
  <a class="reference internal" href="12_00-Introduction.html">
   13. MicroPython
  </a>
  <ul class="current">
   <li class="toctree-l2">
    <a class="reference internal" href="12_01-What-is-MicroPython.html">
     13.1.1. What is MicroPython?
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="12_02-Installing-MicroPython.html">
     13.1.2. Installing MicroPython
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="12_03-MicroPython-REPL.html">
     13.1.3. The MicroPython REPL
    </a>
   </li>
   <li class="toctree-l2 current active">
    <a class="current reference internal" href="#">
     13.1.4. Blinking a LED
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="12_05-Reading-a-Sensor.html">
     13.1.5. Reading a Sensor
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="12_06-Uploading-Code.html">
     13.1.6. Uploading Code
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="12_07-Summary.html">
     13.1.7. Summary
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="12_08-Project-Ideas.html">
     13.1.8. Project Ideas
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../99-Appendix/99_00-Appendix.html">
   14. Appendix
  </a>
 </li>
</ul>

</nav>

 <!-- To handle the deprecated key -->

<div class="navbar_extra_footer">
  Powered by <a href="https://jupyterbook.org">Jupyter Book</a>
</div>

</div>


          


          
<main class="col py-md-3 pl-md-4 bd-content overflow-auto" role="main">
    
    <div class="row topbar fixed-top container-xl">
    <div class="col-12 col-md-3 bd-topbar-whitespace site-navigation show">
    </div>
    <div class="col pl-2 topbar-main">
        
        <button id="navbar-toggler" class="navbar-toggler ml-0" type="button" data-toggle="collapse"
            data-toggle="tooltip" data-placement="bottom" data-target=".site-navigation" aria-controls="navbar-menu"
            aria-expanded="true" aria-label="Toggle navigation" aria-controls="site-navigation"
            title="Toggle navigation" data-toggle="tooltip" data-placement="left">
            <i class="fas fa-bars"></i>
            <i class="fas fa-arrow-left"></i>
            <i class="fas fa-arrow-up"></i>
        </button>
        
        <div class="dropdown-buttons-trigger">
    <button id="dropdown-buttons-trigger" class="btn btn-secondary topbarbtn" aria-label="Download this page"><i
            class="fas fa-download"></i></button>

    
    <div class="dropdown-buttons">
        <!-- ipynb file if we had a myst markdown file -->
        <a class="dropdown-buttons"
            href="../_sources/12-MicroPython/12_04-Blinking-a-LED.ipynb"><button type="button"
                class="btn btn-secondary topbarbtn" title="Download notebook file" data-toggle="tooltip"
                data-placement="left">.ipynb</button></a>
        <!-- Download raw file -->
        <a class="dropdown-buttons" href="../_sources/12-MicroPython/12_04-Blinking-a-LED.md"><button type="button"
                class="btn btn-secondary topbarbtn" title="Download source file" data-toggle="tooltip"
                data-placement="left">.md</button></a>
        <!-- Download PDF via print -->
        <button type="button" id="download-print" class="btn btn-secondary topbarbtn" title="Print to PDF"
            onClick="window.print()" data-toggle="tooltip" data-placement="left">.pdf</button>
    </div>
    
</div>
        <!-- Source interaction buttons -->


        <!-- Full screen (wrap in <a> to have style consistency -->
        <a class="full-screen-button"><button type="button" class="btn btn-secondary topbarbtn" data-toggle="tooltip"
                data-placement="bottom" onclick="toggleFullScreen()" title="Fullscreen mode"><i
                    class="fas fa-expand"></i></button></a>

        <!-- Launch buttons -->

<div class="dropdown-buttons-trigger">
    <button id="dropdown-buttons-trigger" class="btn btn-secondary topbarbtn"
        aria-label="Launch interactive content"><i class="fas fa-rocket"></i></button>
    <div class="dropdown-buttons">
        
        <a class="binder-button" href="https://mybinder.org/v2/gh/phaustin/Problem-Solving-with-Python-37-Edition.git/jb?urlpath=tree/notebooks/12-MicroPython/12_04-Blinking-a-LED.md"><button type="button"
                class="btn btn-secondary topbarbtn" title="Launch Binder" data-toggle="tooltip"
                data-placement="left"><img class="binder-button-logo"
                    src="../_static/images/logo_binder.svg"
                    alt="Interact on binder">Binder</button></a>
        
        
        <a class="jupyterhub-button" href="http://127.0.0.1:9500/hub/user-redirect/git-pull?repo=https://github.com/phaustin/Problem-Solving-with-Python-37-Edition.git&urlpath=tree/Problem-Solving-with-Python-37-Edition.git/notebooks/12-MicroPython/12_04-Blinking-a-LED.md&branch=jb"><button type="button"
                class="btn btn-secondary topbarbtn" title="Launch JupyterHub" data-toggle="tooltip"
                data-placement="left"><img class="jupyterhub-button-logo"
                    src="../_static/images/logo_jupyterhub.svg"
                    alt="Interact on JupyterHub">JupyterHub</button></a>
        
        
        
    </div>
</div>

    </div>

    <!-- Table of contents -->
    <div class="d-none d-md-block col-md-2 bd-toc show">
        <div class="tocsection onthispage pt-5 pb-3">
            <i class="fas fa-list"></i> Contents
        </div>
        <nav id="bd-toc-nav">
            <ul class="nav section-nav flex-column">
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#connect-the-esp8266-based-microcontroller-to-the-computer-and-bring-up-the-micropython-repl">
   13.1.4.1. Connect the ESP8266-based Microcontroller to the computer and bring up the MicroPython REPL
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#use-the-micropython-repl-to-turn-the-microcontroller-s-led-on-and-off">
   13.1.4.2. Use the MicroPython REPL to turn the microcontroller’s LED on and off
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#run-code-at-the-micropython-repl-to-blink-the-led">
   13.1.4.3. Run code at the MicroPython REPL to blink the LED
  </a>
 </li>
</ul>

        </nav>
    </div>
</div>
    <div id="main-content" class="row">
        <div class="col-12 col-md-9 pl-md-3 pr-md-0">
        
              <div>
                
  <div class="section" id="blinking-a-led">
<h1><span class="section-number">13.1.4. </span>Blinking a LED<a class="headerlink" href="#blinking-a-led" title="Permalink to this headline">¶</a></h1>
<p>In this section, you will learn how to blink the built-in LED on ESP8266-based microcontroller using the MicroPython REPL.</p>
<p>Before the LED on the ESP8266-based microcontroller can be blinked, MicroPython needs to be installed on the microcontroller and PuTTY needs to be installed on your computer. PuTTY facilitates interaction between a computer and the microcontroller using the serial communication protocol. An alternative to PuTTY is a MacOS or Linux terminal and the <strong>screen</strong> utility.  The <strong>screen</strong> utility can also be used for serial communication.</p>
<p>Most ESP8266-based microcontrollers (such as the Adafruit Feather Huzzah ESP8266) have a built-in LED mounted on the board. On many boards, the built-in LED is connected to Pin 0. You can control the board’s built-in LED with MicroPython’s <code class="docutils literal notranslate"><span class="pre">machine</span></code> module.</p>
<div class="section" id="connect-the-esp8266-based-microcontroller-to-the-computer-and-bring-up-the-micropython-repl">
<h2><span class="section-number">13.1.4.1. </span>Connect the ESP8266-based Microcontroller to the computer and bring up the MicroPython REPL<a class="headerlink" href="#connect-the-esp8266-based-microcontroller-to-the-computer-and-bring-up-the-micropython-repl" title="Permalink to this headline">¶</a></h2>
<p>Connect the ESP8266-based microcontroller to the computer with a microUSB cable. Ensure the microUSB cable is a USB data cable, not just a charging cable. Open PuTTY and connect to the microcontroller using the proper serial port (COM#) and 115200 baud. (Remember to use the <strong>Serial</strong> radio button under <strong>Connection Type:</strong>)</p>
<p><img alt="PuTTY in the Windows 10 Start Menu" src="../_images/putty_in_start_menu.png" /></p>
<p><img alt="PuTTY Configuration" src="../_images/putty_config.PNG" /></p>
<p>Clicking [Open] will bring up the MicroPython REPL prompt <code class="docutils literal notranslate"><span class="pre">&gt;&gt;&gt;</span></code>. If you can’t see the <code class="docutils literal notranslate"><span class="pre">&gt;&gt;&gt;</span></code> prompt, try typing [Enter] or [Ctrl]+[D] or push the RESET button on the microcontroller. If none of these methods work, try closing PuTTY and unplugging then replugging in the microUSB cable that connects the board to the computer.</p>
</div>
<div class="section" id="use-the-micropython-repl-to-turn-the-microcontroller-s-led-on-and-off">
<h2><span class="section-number">13.1.4.2. </span>Use the MicroPython REPL to turn the microcontroller’s LED on and off<a class="headerlink" href="#use-the-micropython-repl-to-turn-the-microcontroller-s-led-on-and-off" title="Permalink to this headline">¶</a></h2>
<p>Test to see if the MicroPython REPL is functioning correctly with a basic <em>Hello World</em> program. Type the following into the PuTTY window:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>&gt;&gt;&gt; print(&quot;Hello World&quot;)
Hello World
</pre></div>
</div>
<p>Next, try to turn the microcontroller’s built-in LED on and off. Most ESP8266-based microcontrollers (such as the Adafruit Feather Huzzah ESP8266) have a built-in LED connected to Pin 0. If you control the voltage going to Pin 0, you control if the built-in LED on the microcontroller is on or off. To control a Pin on a microcontroller with MicroPython, you first need to import the <strong>machine</strong> module. The <strong>machine</strong> module is built into MicroPython, but absent from “regular” Python. Next, a <code class="docutils literal notranslate"><span class="pre">Pin</span></code> object needs to be created. The integer passed into <code class="docutils literal notranslate"><span class="pre">machine.Pin()</span></code> determines the pin number assigned to the <code class="docutils literal notranslate"><span class="pre">Pin</span></code> object.</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>&gt;&gt;&gt; import machine
&gt;&gt;&gt; pin = machine.Pin(0)
</pre></div>
</div>
<p>The value of Pin0  (on or off) is determined with the command below.</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>&gt;&gt;&gt; pin.value
1
</pre></div>
</div>
<p>In or assign a value to Pin 0, the <code class="docutils literal notranslate"><span class="pre">Pin</span></code> object must be assigned as an <em>output</em> pin. An output pin is a pin where a program or user determines the pin output. An input pin is a pin set up to read input, like the input from a sensor. In this case, you want to assign Pin 0 as an output pin.</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>&gt;&gt;&gt; pin = machine.Pin(0, machine.Pin.OUT)

# turn the LED on
&gt;&gt;&gt; pin.value(0)

# turn the LED off
&gt;&gt;&gt; pin.value(1)
</pre></div>
</div>
</div>
<div class="section" id="run-code-at-the-micropython-repl-to-blink-the-led">
<h2><span class="section-number">13.1.4.3. </span>Run code at the MicroPython REPL to blink the LED<a class="headerlink" href="#run-code-at-the-micropython-repl-to-blink-the-led" title="Permalink to this headline">¶</a></h2>
<p>Now let’s make the microcontroller’s built-in LED blink. Blinking the LED can be accomplished with a simple <code class="docutils literal notranslate"><span class="pre">for</span></code> loop. At the MicroPython REPL, initiating a loop automatically indents the next line, so a tab is not needed before the <code class="docutils literal notranslate"><span class="pre">pin.on()</span></code> statement. To run the loop, type backspace on an empty line (to backspace from an indented line) and hit [Enter].</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>&gt;&gt;&gt; import machine
&gt;&gt;&gt; import time
&gt;&gt;&gt; pin = machine.Pin(0, machine.Pin.OUT)
&gt;&gt;&gt; for i in range(10):
...     pin.on()
...     time.sleep(0.5)
...     pin.off()
...     time.sleep(0.5)
...
</pre></div>
</div>
<p>The microcontroller’s built-in LED turns on and off for a total of about 10 seconds.</p>
</div>
</div>

    <script type="text/x-thebe-config">
    {
        requestKernel: true,
        binderOptions: {
            repo: "binder-examples/jupyter-stacks-datascience",
            ref: "master",
        },
        codeMirrorConfig: {
            theme: "abcdef",
            mode: "python"
        },
        kernelOptions: {
            kernelName: "python3",
            path: "./12-MicroPython"
        },
        predefinedOutput: true
    }
    </script>
    <script>kernelName = 'python3'</script>

              </div>
              
        </div>
    </div>
    
    
    <div class='prev-next-bottom'>
        
    <a class='left-prev' id="prev-link" href="12_03-MicroPython-REPL.html" title="previous page"><span class="section-number">13.1.3. </span>The MicroPython REPL</a>
    <a class='right-next' id="next-link" href="12_05-Reading-a-Sensor.html" title="next page"><span class="section-number">13.1.5. </span>Reading a Sensor</a>

    </div>
    <footer class="footer mt-5 mt-md-0">
    <div class="container">
      <p>
        
          By Peter D. Kazarinoff, PhD<br/>
        
            &copy; Copyright 2020.<br/>
      </p>
    </div>
  </footer>
</main>


      </div>
    </div>

    <script src="../_static/js/index.js"></script>
    
  </body>
</html>